{"version":3,"sources":["webpack:///./src/views/Template.vue?bea5","webpack:///src/views/Template.vue","webpack:///./src/views/Template.vue?f2af","webpack:///./src/views/Template.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","domProps","_s","$t","create","staticClass","model","value","callback","$$v","currentMode","expression","on","$event","updateEditor","updateJson","name","templateObj","$set","_e","loading","ref","isDark","$refs","editor","setValue","template","run","save","staticRenderFns","undefined","$route","params","id","data","command","environmentVars","display","type","install","supportedEnvironments","loadData","methods","ctx","$http","get","then","response","readme","JSON","stringify","stop","stopType","stopCode","Object","keys","forEach","key","pre","post","fixType","element","files","commands","map","ready","put","$toast","success","$router","push","parse","component","VBtn","VBtnToggle","VCard","VCardText","VCardTitle","VCol","VProgressCircular","VRow","VTextField"],"mappings":"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","file":"js/chunk-2d0ac239.495f3e82.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-card',[_c('v-card-title',[_c('span',{domProps:{\"textContent\":_vm._s(_vm.$t(_vm.create ? 'templates.New' : 'templates.Edit'))}}),_c('div',{staticClass:\"flex-grow-1\"}),_c('v-btn-toggle',{attrs:{\"borderless\":\"\",\"dense\":\"\",\"mandatory\":\"\"},model:{value:(_vm.currentMode),callback:function ($$v) {_vm.currentMode=$$v},expression:\"currentMode\"}},[_c('v-btn',{attrs:{\"value\":\"editor\"},domProps:{\"textContent\":_vm._s(_vm.$t('templates.Editor'))},on:{\"click\":function($event){return _vm.updateEditor()}}}),_c('v-btn',{attrs:{\"value\":\"json\"},domProps:{\"textContent\":_vm._s(_vm.$t('templates.Json'))},on:{\"click\":function($event){return _vm.updateJson()}}})],1)],1),_c('v-card-text',[_c('v-row',[_c('v-col',[_c('v-text-field',{attrs:{\"label\":_vm.$t('common.Name'),\"disabled\":!_vm.create,\"outlined\":\"\",\"hide-details\":\"\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}})],1)],1),(_vm.currentMode === 'editor')?_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('v-text-field',{attrs:{\"label\":_vm.$t('templates.Display'),\"outlined\":\"\",\"hide-details\":\"\"},model:{value:(_vm.templateObj.display),callback:function ($$v) {_vm.$set(_vm.templateObj, \"display\", $$v)},expression:\"templateObj.display\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('v-text-field',{attrs:{\"label\":_vm.$t('templates.Type'),\"outlined\":\"\",\"hide-details\":\"\"},model:{value:(_vm.templateObj.type),callback:function ($$v) {_vm.$set(_vm.templateObj, \"type\", $$v)},expression:\"templateObj.type\"}})],1)],1):_vm._e(),(_vm.loading)?_c('v-row',[_c('v-col',{attrs:{\"cols\":\"5\"}}),_c('v-col',{attrs:{\"cols\":\"2\"}},[_c('v-progress-circular',{staticClass:\"mr-2\",attrs:{\"indeterminate\":\"\"}}),_c('strong',{domProps:{\"textContent\":_vm._s(_vm.$t('common.Loading'))}})],1)],1):_vm._e()],1)],1)],1),(_vm.currentMode === 'json' && !_vm.loading)?_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-card',[_c('v-card-text',[_c('v-row',[_c('v-col',[_c('ace',{ref:\"editor\",attrs:{\"editor-id\":_vm.name + 'json',\"theme\":_vm.isDark() ? 'monokai' : 'github',\"height\":\"50vh\",\"lang\":\"json\"},on:{\"editorready\":function($event){return _vm.$refs.editor.setValue(_vm.template)}},model:{value:(_vm.template),callback:function ($$v) {_vm.template=$$v},expression:\"template\"}})],1)],1)],1)],1)],1):_vm._e(),(_vm.currentMode === 'editor' && !_vm.loading)?_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-card',[_c('v-card-title',{domProps:{\"textContent\":_vm._s(_vm.$t('templates.Variables'))}}),_c('v-card-text',{staticClass:\"pb-1\"},[_c('template-variables',{model:{value:(_vm.templateObj.data),callback:function ($$v) {_vm.$set(_vm.templateObj, \"data\", $$v)},expression:\"templateObj.data\"}})],1)],1)],1):_vm._e(),(_vm.currentMode === 'editor' && !_vm.loading)?_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-card',[_c('v-card-title',{domProps:{\"textContent\":_vm._s(_vm.$t('templates.Install'))}}),_c('v-card-text',{staticClass:\"pb-1\"},[_c('template-processors',{attrs:{\"name\":\"install\"},model:{value:(_vm.templateObj.install),callback:function ($$v) {_vm.$set(_vm.templateObj, \"install\", $$v)},expression:\"templateObj.install\"}})],1)],1)],1):_vm._e(),(_vm.currentMode === 'editor' && !_vm.loading)?_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-card',[_c('v-card-title',{domProps:{\"textContent\":_vm._s(_vm.$t('templates.RunConfig'))}}),_c('v-card-text',{staticClass:\"pb-1\"},[_c('template-run',{model:{value:(_vm.templateObj.run),callback:function ($$v) {_vm.$set(_vm.templateObj, \"run\", $$v)},expression:\"templateObj.run\"}})],1)],1)],1):_vm._e(),(_vm.currentMode === 'editor' && !_vm.loading)?_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-card',[_c('v-card-title',{domProps:{\"textContent\":_vm._s(_vm.$t('templates.Shutdown'))}}),_c('v-card-text',{staticClass:\"pb-1\"},[_c('template-shutdown',{model:{value:(_vm.templateObj.run),callback:function ($$v) {_vm.$set(_vm.templateObj, \"run\", $$v)},expression:\"templateObj.run\"}})],1)],1)],1):_vm._e(),(_vm.currentMode === 'editor' && !_vm.loading)?_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-card',[_c('v-card-title',{domProps:{\"textContent\":_vm._s(_vm.$t('templates.PreHook'))}}),_c('v-card-text',{staticClass:\"pb-1\"},[_c('template-processors',{attrs:{\"name\":\"pre\"},model:{value:(_vm.templateObj.run.pre),callback:function ($$v) {_vm.$set(_vm.templateObj.run, \"pre\", $$v)},expression:\"templateObj.run.pre\"}})],1)],1)],1):_vm._e(),(_vm.currentMode === 'editor' && !_vm.loading)?_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-card',[_c('v-card-title',{domProps:{\"textContent\":_vm._s(_vm.$t('templates.PostHook'))}}),_c('v-card-text',{staticClass:\"pb-1\"},[_c('template-processors',{attrs:{\"name\":\"post\"},model:{value:(_vm.templateObj.run.post),callback:function ($$v) {_vm.$set(_vm.templateObj.run, \"post\", $$v)},expression:\"templateObj.run.post\"}})],1)],1)],1):_vm._e(),(_vm.currentMode === 'editor' && !_vm.loading)?_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-card',[_c('v-card-title',{domProps:{\"textContent\":_vm._s(_vm.$t('templates.EnvVars'))}}),_c('v-card-text',{staticClass:\"pb-1\"},[_c('template-envvars',{model:{value:(_vm.templateObj.run.environmentVars),callback:function ($$v) {_vm.$set(_vm.templateObj.run, \"environmentVars\", $$v)},expression:\"templateObj.run.environmentVars\"}})],1)],1)],1):_vm._e(),(_vm.currentMode === 'editor' && !_vm.loading)?_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-card',[_c('v-card-title',{domProps:{\"textContent\":_vm._s(_vm.$t('templates.SupportedEnvironments'))}}),_c('v-card-text',{staticClass:\"pb-1\"},[_c('template-environments',{model:{value:(_vm.templateObj.supportedEnvironments),callback:function ($$v) {_vm.$set(_vm.templateObj, \"supportedEnvironments\", $$v)},expression:\"templateObj.supportedEnvironments\"}})],1)],1)],1):_vm._e(),_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-btn',{attrs:{\"color\":\"success\",\"large\":\"\",\"block\":\"\"},domProps:{\"textContent\":_vm._s(_vm.$t('common.Save'))},on:{\"click\":_vm.save}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-row>\n    <v-col cols=\"12\">\n      <v-card>\n        <v-card-title>\n          <span v-text=\"$t(create ? 'templates.New' : 'templates.Edit')\" />\n          <div class=\"flex-grow-1\" />\n          <v-btn-toggle\n            v-model=\"currentMode\"\n            borderless\n            dense\n            mandatory\n          >\n            <v-btn\n              value=\"editor\"\n              @click=\"updateEditor()\"\n              v-text=\"$t('templates.Editor')\"\n            />\n            <v-btn\n              value=\"json\"\n              @click=\"updateJson()\"\n              v-text=\"$t('templates.Json')\"\n            />\n          </v-btn-toggle>\n        </v-card-title>\n        <v-card-text>\n          <v-row>\n            <v-col>\n              <v-text-field\n                v-model=\"name\"\n                :label=\"$t('common.Name')\"\n                :disabled=\"!create\"\n                outlined\n                hide-details\n              />\n            </v-col>\n          </v-row>\n          <v-row v-if=\"currentMode === 'editor'\">\n            <v-col\n              cols=\"12\"\n              md=\"6\"\n            >\n              <v-text-field\n                v-model=\"templateObj.display\"\n                :label=\"$t('templates.Display')\"\n                outlined\n                hide-details\n              />\n            </v-col>\n            <v-col\n              cols=\"12\"\n              md=\"6\"\n            >\n              <v-text-field\n                v-model=\"templateObj.type\"\n                :label=\"$t('templates.Type')\"\n                outlined\n                hide-details\n              />\n            </v-col>\n          </v-row>\n          <v-row v-if=\"loading\">\n            <v-col cols=\"5\" />\n            <v-col cols=\"2\">\n              <v-progress-circular\n                indeterminate\n                class=\"mr-2\"\n              />\n              <strong v-text=\"$t('common.Loading')\" />\n            </v-col>\n          </v-row>\n        </v-card-text>\n      </v-card>\n    </v-col>\n    <v-col\n      v-if=\"currentMode === 'json' && !loading\"\n      cols=\"12\"\n    >\n      <v-card>\n        <v-card-text>\n          <v-row>\n            <v-col>\n              <ace\n                ref=\"editor\"\n                v-model=\"template\"\n                :editor-id=\"name + 'json'\"\n                :theme=\"isDark() ? 'monokai' : 'github'\"\n                height=\"50vh\"\n                lang=\"json\"\n                @editorready=\"$refs.editor.setValue(template)\"\n              />\n            </v-col>\n          </v-row>\n        </v-card-text>\n      </v-card>\n    </v-col>\n    <v-col\n      v-if=\"currentMode === 'editor' && !loading\"\n      cols=\"12\"\n    >\n      <v-card>\n        <v-card-title v-text=\"$t('templates.Variables')\" />\n        <v-card-text class=\"pb-1\">\n          <template-variables v-model=\"templateObj.data\" />\n        </v-card-text>\n      </v-card>\n    </v-col>\n    <v-col\n      v-if=\"currentMode === 'editor' && !loading\"\n      cols=\"12\"\n    >\n      <v-card>\n        <v-card-title v-text=\"$t('templates.Install')\" />\n        <v-card-text class=\"pb-1\">\n          <template-processors\n            v-model=\"templateObj.install\"\n            name=\"install\"\n          />\n        </v-card-text>\n      </v-card>\n    </v-col>\n    <v-col\n      v-if=\"currentMode === 'editor' && !loading\"\n      cols=\"12\"\n    >\n      <v-card>\n        <v-card-title v-text=\"$t('templates.RunConfig')\" />\n        <v-card-text class=\"pb-1\">\n          <template-run v-model=\"templateObj.run\" />\n        </v-card-text>\n      </v-card>\n    </v-col>\n    <v-col\n      v-if=\"currentMode === 'editor' && !loading\"\n      cols=\"12\"\n    >\n      <v-card>\n        <v-card-title v-text=\"$t('templates.Shutdown')\" />\n        <v-card-text class=\"pb-1\">\n          <template-shutdown v-model=\"templateObj.run\" />\n        </v-card-text>\n      </v-card>\n    </v-col>\n    <v-col\n      v-if=\"currentMode === 'editor' && !loading\"\n      cols=\"12\"\n    >\n      <v-card>\n        <v-card-title v-text=\"$t('templates.PreHook')\" />\n        <v-card-text class=\"pb-1\">\n          <template-processors\n            v-model=\"templateObj.run.pre\"\n            name=\"pre\"\n          />\n        </v-card-text>\n      </v-card>\n    </v-col>\n    <v-col\n      v-if=\"currentMode === 'editor' && !loading\"\n      cols=\"12\"\n    >\n      <v-card>\n        <v-card-title v-text=\"$t('templates.PostHook')\" />\n        <v-card-text class=\"pb-1\">\n          <template-processors\n            v-model=\"templateObj.run.post\"\n            name=\"post\"\n          />\n        </v-card-text>\n      </v-card>\n    </v-col>\n    <v-col\n      v-if=\"currentMode === 'editor' && !loading\"\n      cols=\"12\"\n    >\n      <v-card>\n        <v-card-title v-text=\"$t('templates.EnvVars')\" />\n        <v-card-text class=\"pb-1\">\n          <template-envvars v-model=\"templateObj.run.environmentVars\" />\n        </v-card-text>\n      </v-card>\n    </v-col>\n    <v-col\n      v-if=\"currentMode === 'editor' && !loading\"\n      cols=\"12\"\n    >\n      <v-card>\n        <v-card-title v-text=\"$t('templates.SupportedEnvironments')\" />\n        <v-card-text class=\"pb-1\">\n          <template-environments v-model=\"templateObj.supportedEnvironments\" />\n        </v-card-text>\n      </v-card>\n    </v-col>\n    <v-col cols=\"12\">\n      <v-btn\n        color=\"success\"\n        large\n        block\n        @click=\"save\"\n        v-text=\"$t('common.Save')\"\n      />\n    </v-col>\n  </v-row>\n</template>\n\n<script>\nimport { isDark } from '@/utils/dark'\nimport { handleError } from '@/utils/api'\n\nexport default {\n  data () {\n    return {\n      currentMode: 'editor',\n      loading: false,\n      create: this.$route.params.id === undefined,\n      name: this.$route.params.id === undefined ? '' : this.$route.params.id,\n      template: '',\n      templateObj: {\n        data: {},\n        run: {\n          command: '',\n          environmentVars: {}\n        },\n        display: '',\n        type: '',\n        install: [],\n        supportedEnvironments: []\n      }\n    }\n  },\n  mounted () {\n    if (!this.create) this.loadData()\n  },\n  methods: {\n    loadData () {\n      this.loading = true\n      const ctx = this\n      ctx.$http.get(`/api/templates/${ctx.$route.params.id}`).then(response => {\n        const data = response.data\n        data.readme = undefined\n        ctx.template = JSON.stringify(data, undefined, 4)\n        ctx.templateObj = data\n        if (data.run && data.run.stop) {\n          ctx.stopType = 'command'\n        }\n        if (data.run && data.run.stopCode) {\n          ctx.stopType = 'signal'\n        }\n        if (!this.templateObj.data) this.templateObj.data = {}\n        Object.keys(this.templateObj.data).forEach(key => {\n          if (!this.templateObj.data[key].type) this.templateObj.data[key].type = 'string'\n        })\n        if (!this.templateObj.run) this.templateObj.run = {}\n        if (!this.templateObj.run.environmentVars) this.templateObj.run.environmentVars = {}\n        if (!this.templateObj.run.pre) this.templateObj.run.pre = []\n        if (!this.templateObj.run.post) this.templateObj.run.post = []\n        if (!this.templateObj.supportedEnvironments) this.templateObj.supportedEnvironments = []\n        if (!this.templateObj.install) this.templateObj.install = []\n        const fixType = element => {\n          if (element.type === 'download' && typeof element.files === 'string') element.files = [element.files]\n          if (element.type === 'command' && typeof element.commands === 'string') element.commands = [element.commands]\n          return element\n        }\n        this.templateObj.install.map(fixType)\n        this.templateObj.run.pre.map(fixType)\n        this.templateObj.run.post.map(fixType)\n        if (ctx.$refs.editor && ctx.$refs.editor.ready) ctx.$refs.editor.setValue(ctx.template)\n        ctx.loading = false\n      }).catch(handleError(ctx))\n    },\n    save () {\n      if (this.currentMode === 'editor') this.updateJson()\n      const ctx = this\n      ctx.$http.put(`/api/templates/${ctx.name}`, ctx.template).then(response => {\n        ctx.$toast.success(ctx.$t('templates.SaveSuccess'))\n        if (ctx.create) ctx.$router.push({ name: 'Template', params: { id: ctx.name } })\n      }).catch(handleError(ctx, { 400: 'errors.ErrInvalidJson' }))\n    },\n    updateEditor () {\n      const data = JSON.parse(this.template)\n      if (data.run && data.run.stop) {\n        this.stopType = 'command'\n      }\n      if (data.run && data.run.stopCode) {\n        this.stopType = 'signal'\n      }\n      this.templateObj = JSON.parse(this.template)\n    },\n    updateJson () {\n      this.templateObj.name = this.name\n      this.templateObj.run.stopCode = this.templateObj.run.stopCode * 1\n      this.templateObj.run[this.stopType === 'command' ? 'stopCode' : 'stop'] = undefined\n      this.template = JSON.stringify(this.templateObj, undefined, 4)\n      if (this.$refs.editor && this.$refs.editor.ready) this.$refs.editor.setValue(this.template)\n    },\n    isDark\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Template.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Template.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Template.vue?vue&type=template&id=829fd768&\"\nimport script from \"./Template.vue?vue&type=script&lang=js&\"\nexport * from \"./Template.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VBtnToggle } from 'vuetify/lib/components/VBtnToggle';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VBtnToggle,VCard,VCardText,VCardTitle,VCol,VProgressCircular,VRow,VTextField})\n"],"sourceRoot":""}