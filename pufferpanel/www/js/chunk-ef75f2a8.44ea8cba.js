(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ef75f2a8"],{"4bd4":function(e,t,s){"use strict";s("2532");var r=s("5530"),i=s("58df"),a=s("7e2b"),o=s("3206");t["a"]=Object(i["a"])(a["a"],Object(o["b"])("form")).extend({name:"v-form",provide(){return{form:this}},inheritAttrs:!1,props:{disabled:Boolean,lazyValidation:Boolean,readonly:Boolean,value:Boolean},data:()=>({inputs:[],watchers:[],errorBag:{}}),watch:{errorBag:{handler(e){const t=Object.values(e).includes(!0);this.$emit("input",!t)},deep:!0,immediate:!0}},methods:{watchInput(e){const t=e=>e.$watch("hasError",t=>{this.$set(this.errorBag,e._uid,t)},{immediate:!0}),s={_uid:e._uid,valid:()=>{},shouldValidate:()=>{}};return this.lazyValidation?s.shouldValidate=e.$watch("shouldValidate",r=>{r&&(this.errorBag.hasOwnProperty(e._uid)||(s.valid=t(e)))}):s.valid=t(e),s},validate(){return 0===this.inputs.filter(e=>!e.validate(!0)).length},reset(){this.inputs.forEach(e=>e.reset()),this.resetErrorBag()},resetErrorBag(){this.lazyValidation&&setTimeout(()=>{this.errorBag={}},0)},resetValidation(){this.inputs.forEach(e=>e.resetValidation()),this.resetErrorBag()},register(e){this.inputs.push(e),this.watchers.push(this.watchInput(e))},unregister(e){const t=this.inputs.find(t=>t._uid===e._uid);if(!t)return;const s=this.watchers.find(e=>e._uid===t._uid);s&&(s.valid(),s.shouldValidate()),this.watchers=this.watchers.filter(e=>e._uid!==t._uid),this.inputs=this.inputs.filter(e=>e._uid!==t._uid),this.$delete(this.errorBag,t._uid)}},render(e){return e("form",{staticClass:"v-form",attrs:Object(r["a"])({novalidate:!0},this.attrs$),on:{submit:e=>this.$emit("submit",e)}},this.$slots.default)}})},a55b:function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-col",{attrs:{lg:"4",md:"6",sm:"8","offset-lg":"4","offset-md":"3","offset-sm":"2"}},[s("v-card",{attrs:{loading:e.loginDisabled}},[s("v-card-title",{staticClass:"d-flex justify-center"},[s("p",{domProps:{textContent:e._s(e.$t("users.Login"))}})]),s("v-card-text",[s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("v-form",[s("v-text-field",{attrs:{id:"email",outlined:"",label:e.$t("users.Email"),"error-messages":e.errors.email,"prepend-inner-icon":"mdi-account",name:"email",type:"email"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit(t)}},model:{value:e.email,callback:function(t){e.email="string"===typeof t?t.trim():t},expression:"email"}}),s("v-text-field",{attrs:{id:"password",outlined:"",label:e.$t("users.Password"),"error-messages":e.errors.password,"prepend-inner-icon":"mdi-lock","append-icon":e.showPassword?"mdi-eye-off":"mdi-eye",name:"password",type:e.showPassword?"text":"password"},on:{"click:append":function(t){e.showPassword=!e.showPassword},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit(t)}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),s("v-btn",{staticClass:"body-1 mb-5",attrs:{color:"primary",large:"",block:""},domProps:{textContent:e._s(e.$t("users.Login"))},on:{click:e.submit}}),s("v-btn",{attrs:{text:"",block:"",to:{name:"Register"}},domProps:{textContent:e._s(e.$t("users.RegisterLink"))}})],1)],1)],1)],1)],1)},i=[],a=s("a78e"),o=s.n(a),n=s("7c15"),d=s("5f87");function l(){const e=localStorage.getItem("reauth_reason")||"";return localStorage.removeItem("reauth_reason"),e}var u={data(){return{email:"",password:"",errors:{email:"",password:""},loginDisabled:!1,reauthReason:"",registered:!1,showPassword:!1}},computed:{canSubmit(){return!(this.loginDisabled||""===this.email||""===this.password)}},mounted(){Object(d["a"])()&&this.$router.push({name:"Servers"});const e=l();"session_timed_out"===e&&this.$toast.error(this.$t("errors.ErrSessionTimedOut"))},methods:{submit(){this.$toast.clearQueue(),this.$toast.getCmp()&&this.$toast.getCmp().close();const e=this;e.errors.form="",e.errors.email="",e.errors.password="",e.email?e.password?(this.loginDisabled=!0,this.axios.post(this.$route.path,{email:this.email,password:this.password}).then(t=>{o.a.set("puffer_auth",t.data.session),localStorage.setItem("scopes",JSON.stringify(t.data.scopes||[])),e.$emit("logged-in"),e.$router.push({name:"Servers"})}).catch(Object(n["a"])(e)).finally(()=>{e.loginDisabled=!1})):e.errors.password=this.$t("errors.ErrFieldRequired",{field:this.$t("users.Password")}):e.errors.email=this.$t("errors.ErrFieldRequired",{field:this.$t("users.Email")})}}},h=u,c=s("2877"),m=s("6544"),p=s.n(m),f=s("8336"),w=s("b0af"),b=s("99d9"),g=s("62ad"),v=s("4bd4"),$=s("0fd9"),y=s("8654"),_=Object(c["a"])(h,r,i,!1,null,null,null);t["default"]=_.exports;p()(_,{VBtn:f["a"],VCard:w["a"],VCardText:b["c"],VCardTitle:b["d"],VCol:g["a"],VForm:v["a"],VRow:$["a"],VTextField:y["a"]})}}]);
//# sourceMappingURL=chunk-ef75f2a8.44ea8cba.js.map