(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0ab43a"],{1511:function(e,s,t){"use strict";t.r(s);var r=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("v-row",[t("v-col",{attrs:{cols:"12",md:"6","offset-md":"3"}},[t("v-card",[t("v-card-title",{domProps:{textContent:e._s(e.$t(e.create?"users.Add":"users.Edit"))}}),t("v-card-text",[t("v-row",[t("v-col",[t("v-text-field",{attrs:{"prepend-inner-icon":"mdi-account",label:e.$t("common.Name"),outlined:"","hide-details":""},model:{value:e.user.username,callback:function(s){e.$set(e.user,"username",s)},expression:"user.username"}})],1)],1),t("v-row",[t("v-col",[t("v-text-field",{attrs:{"prepend-inner-icon":"mdi-email",label:e.$t("users.Email"),type:"email",outlined:"","hide-details":""},model:{value:e.user.email,callback:function(s){e.$set(e.user,"email",s)},expression:"user.email"}})],1)],1),t("v-row",[t("v-col",[t("v-text-field",{attrs:{"prepend-inner-icon":"mdi-lock",label:e.$t(e.create?"users.Password":"users.NewPassword"),"append-icon":e.showPassword?"mdi-eye-off":"mdi-eye",type:e.showPassword?"text":"password","error-messages":e.passwordErrors,outlined:"","hide-details":""===e.passwordErrors},on:{"click:append":function(s){e.showPassword=!e.showPassword},blur:e.validatePassword},model:{value:e.user.password,callback:function(s){e.$set(e.user,"password",s)},expression:"user.password"}})],1)],1),t("v-row",[t("v-col",{staticClass:"py-0"},[t("v-switch",{staticClass:"mt-2",attrs:{"hide-details":"",label:e.$t("scopes.Admin")},model:{value:e.user.admin,callback:function(s){e.$set(e.user,"admin",s)},expression:"user.admin"}})],1)],1),t("v-row",[t("v-col",{staticClass:"py-0"},[t("v-switch",{staticClass:"mt-2",attrs:{"hide-details":"",label:e.$t("scopes.ViewServers"),disabled:e.user.admin},model:{value:e.user.viewServers,callback:function(s){e.$set(e.user,"viewServers",s)},expression:"user.viewServers"}})],1)],1),t("v-row",[t("v-col",{staticClass:"py-0"},[t("v-switch",{staticClass:"mt-2",attrs:{"hide-details":"",label:e.$t("scopes.CreateServers"),disabled:e.user.admin},model:{value:e.user.createServers,callback:function(s){e.$set(e.user,"createServers",s)},expression:"user.createServers"}})],1)],1),t("v-row",[t("v-col",{staticClass:"py-0"},[t("v-switch",{staticClass:"mt-2",attrs:{"hide-details":"",label:e.$t("scopes.DeleteServers"),disabled:e.user.admin},model:{value:e.user.deleteServers,callback:function(s){e.$set(e.user,"deleteServers",s)},expression:"user.deleteServers"}})],1)],1),t("v-row",[t("v-col",{staticClass:"py-0"},[t("v-switch",{staticClass:"mt-2",attrs:{"hide-details":"",label:e.$t("scopes.EditServerAdmin"),disabled:e.user.admin},model:{value:e.user.editServerAdmin,callback:function(s){e.$set(e.user,"editServerAdmin",s)},expression:"user.editServerAdmin"}})],1)],1),t("v-row",[t("v-col",{staticClass:"py-0"},[t("v-switch",{staticClass:"mt-2",attrs:{"hide-details":"",label:e.$t("scopes.ViewNodes"),disabled:e.user.admin},model:{value:e.user.viewNodes,callback:function(s){e.$set(e.user,"viewNodes",s)},expression:"user.viewNodes"}})],1)],1),t("v-row",[t("v-col",{staticClass:"py-0"},[t("v-switch",{staticClass:"mt-2",attrs:{"hide-details":"",label:e.$t("scopes.EditNodes"),disabled:e.user.admin},model:{value:e.user.editNodes,callback:function(s){e.$set(e.user,"editNodes",s)},expression:"user.editNodes"}})],1)],1),t("v-row",[t("v-col",{staticClass:"py-0"},[t("v-switch",{staticClass:"mt-2",attrs:{"hide-details":"",label:e.$t("scopes.DeployNodes"),disabled:e.user.admin},model:{value:e.user.deployNodes,callback:function(s){e.$set(e.user,"deployNodes",s)},expression:"user.deployNodes"}})],1)],1),t("v-row",[t("v-col",{staticClass:"py-0"},[t("v-switch",{staticClass:"mt-2",attrs:{"hide-details":"",label:e.$t("scopes.ViewTemplates"),disabled:e.user.admin},model:{value:e.user.viewTemplates,callback:function(s){e.$set(e.user,"viewTemplates",s)},expression:"user.viewTemplates"}})],1)],1),t("v-row",[t("v-col",{staticClass:"py-0"},[t("v-switch",{staticClass:"mt-2",attrs:{"hide-details":"",label:e.$t("scopes.EditTemplates"),disabled:e.user.admin},model:{value:e.user.editTemplates,callback:function(s){e.$set(e.user,"editTemplates",s)},expression:"user.editTemplates"}})],1)],1),t("v-row",[t("v-col",{staticClass:"py-0"},[t("v-switch",{staticClass:"mt-2",attrs:{"hide-details":"",label:e.$t("scopes.ViewUsers"),disabled:e.user.admin},model:{value:e.user.viewUsers,callback:function(s){e.$set(e.user,"viewUsers",s)},expression:"user.viewUsers"}})],1)],1),t("v-row",[t("v-col",{staticClass:"pt-0"},[t("v-switch",{staticClass:"mt-2",attrs:{"hide-details":"",label:e.$t("scopes.EditUsers"),disabled:e.user.admin},model:{value:e.user.editUsers,callback:function(s){e.$set(e.user,"editUsers",s)},expression:"user.editUsers"}})],1)],1),t("v-row",[t("v-col",{attrs:{cols:"12"}},[t("v-btn",{attrs:{large:"",block:"",color:"success"},domProps:{textContent:e._s(e.$t(e.create?"users.Add":"users.Update"))},on:{click:e.save}})],1),e.create?e._e():t("v-col",{attrs:{cols:"12"}},[t("v-btn",{attrs:{block:"",color:"error"},domProps:{textContent:e._s(e.$t("users.Delete"))},on:{click:e.deleteUser}})],1)],1)],1)],1)],1)],1)},a=[],i=t("5530"),o=t("7c15"),l={data:function(){return{loading:!1,showPassword:!1,passwordErrors:"",create:void 0===this.$route.params.id,user:{}}},mounted:function(){this.create||this.loadData()},methods:{loadData:function(){var e=this;e.loading=!0,e.$http.get("/api/users/".concat(e.$route.params.id)).then((function(s){e.user=Object(i["a"])({},s.data),e.$http.get("/api/users/".concat(e.$route.params.id,"/perms")).then((function(s){e.user=Object(i["a"])(Object(i["a"])({},e.user),s.data),e.loading=!1}))})).catch(Object(o["a"])(e))},validatePassword:function(){!this.create||this.user.password&&""!==this.user.password?this.user.password&&""!==this.user.password&&this.user.password.length<8?this.passwordErrors=this.$t("errors.ErrPasswordRequirements"):this.passwordErrors="":this.passwordErrors=this.$t("errors.ErrFieldRequired",{field:this.$t("users.Password")})},save:function(){var e=this,s=this,t=s.$route.params.id?"/api/users/"+s.$route.params.id:"/api/users",r=s.user;r.password&&""!==r.password||delete r.password,s.$http.post(t,r).then((function(t){var a=s.$route.params.id||t.data.id;s.$http.put("/api/users/".concat(a,"/perms"),r).then((function(t){s.$toast.success(s.$t(e.create?"users.CreateSuccess":"users.UpdateSuccess")),e.create&&(s.create=!1,s.$router.push({name:"User",params:{id:a}}))})).catch((function(e){console.log(e),s.$toast.error(s.$t("users.PermsUpdateError"))}))})).catch((function(t){console.log(t),s.$toast.error(s.$t(e.create?"users.CreateError":"users.UpdateError"))}))},deleteUser:function(){var e=this;e.$http.delete("/api/users/".concat(e.$route.params.id)).then((function(s){e.$router.push({name:"Users"})})).catch(Object(o["a"])(e))}}},d=l,c=t("2877"),u=t("6544"),n=t.n(u),p=t("8336"),v=t("b0af"),m=t("99d9"),w=t("62ad"),h=t("0fd9"),b=t("b73d"),$=t("8654"),f=Object(c["a"])(d,r,a,!1,null,null,null);s["default"]=f.exports;n()(f,{VBtn:p["a"],VCard:v["a"],VCardText:m["c"],VCardTitle:m["d"],VCol:w["a"],VRow:h["a"],VSwitch:b["a"],VTextField:$["a"]})}}]);
//# sourceMappingURL=chunk-2d0ab43a-legacy.20f96bbd.js.map