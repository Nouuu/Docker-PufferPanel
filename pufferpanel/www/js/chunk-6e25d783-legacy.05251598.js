(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6e25d783"],{"6bfe":function(t,e,o){"use strict";o.d(e,"a",(function(){return n}));o("b0c0"),o("a9e3");function n(t){return{name:t.name,publicHost:t.publicHost,publicPort:Number(t.publicPort),privateHost:t.privateHost,privatePort:Number(t.privatePort),sftpPort:Number(t.sftpPort)}}},"8b83":function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-row",[o("v-col",{attrs:{cols:"12",md:"6","offset-md":"3"}},[o("v-card",[o("v-card-title",{domProps:{textContent:t._s(t.$t("nodes.Edit"))}}),o("v-card-text",{staticClass:"mt-6"},[o("v-row",[o("v-col",[o("v-text-field",{attrs:{label:t.$t("common.Name"),outlined:"","hide-details":""},model:{value:t.node.name,callback:function(e){t.$set(t.node,"name",e)},expression:"node.name"}})],1)],1),o("v-row",[o("v-col",{attrs:{cols:"12",md:"6"}},[o("v-text-field",{attrs:{label:t.$t("nodes.PublicHost"),type:"text",outlined:"","hide-details":""},model:{value:t.node.publicHost,callback:function(e){t.$set(t.node,"publicHost",e)},expression:"node.publicHost"}})],1),o("v-col",{attrs:{cols:"12",md:"6"}},[o("v-text-field",{attrs:{label:t.$t("nodes.PublicPort"),type:"number",outlined:"","hide-details":""},model:{value:t.node.publicPort,callback:function(e){t.$set(t.node,"publicPort",e)},expression:"node.publicPort"}})],1)],1),o("v-row",[o("v-col",{attrs:{cols:"12",md:"6"}},[o("v-text-field",{attrs:{label:t.$t("nodes.PrivateHost"),type:"text",outlined:"","hide-details":""},model:{value:t.node.privateHost,callback:function(e){t.$set(t.node,"privateHost",e)},expression:"node.privateHost"}})],1),o("v-col",{attrs:{cols:"12",md:"6"}},[o("v-text-field",{attrs:{label:t.$t("nodes.PrivatePort"),type:"number",outlined:"","hide-details":""},model:{value:t.node.privatePort,callback:function(e){t.$set(t.node,"privatePort",e)},expression:"node.privatePort"}})],1)],1),o("v-row",[o("v-col",[o("v-text-field",{attrs:{label:t.$t("nodes.SftpPort"),type:"number",outlined:"","hide-details":""},model:{value:t.node.sftpPort,callback:function(e){t.$set(t.node,"sftpPort",e)},expression:"node.sftpPort"}})],1)],1),o("v-row",[o("v-col",{attrs:{cols:"12"}},[o("v-btn",{attrs:{large:"",block:"",color:"success"},domProps:{textContent:t._s(t.$t("nodes.Update"))},on:{click:t.updateNode}})],1),o("v-col",{attrs:{cols:"12"}},[o("v-btn",{attrs:{block:"",color:"error"},domProps:{textContent:t._s(t.$t("nodes.Delete"))},on:{click:t.deleteNode}})],1),o("v-col",{attrs:{cols:"12"}},[o("v-btn",{attrs:{disabled:t.loadingDeploy,text:"",block:""},domProps:{textContent:t._s(t.$t("nodes.SaveConfig"))},on:{click:function(e){return t.downloadConfig()}}})],1),o("v-col",{attrs:{cols:"12"}},[o("span",{domProps:{innerHTML:t._s(t.markdown(t.$t("nodes.DeploymentInstruction")))}})])],1)],1)],1)],1)],1)},a=[],l=(o("d3b7"),o("3ca3"),o("ddb0"),o("2b3d"),o("5530")),c=o("7c15"),d=o("6bfe"),s=o("8e365"),i={data:function(){return{loading:!0,loadingDeploy:!0,node:{},deployment:{clientId:"",clientSecret:""},configTemplate:{logs:"/var/log/pufferpanel",web:{},token:{public:location.protocol+"//"+location.host+"/auth/publickey"},panel:{enable:!1},daemon:{auth:{url:location.protocol+"//"+location.host+"/oauth2/token"},data:{cache:"/var/lib/pufferpanel/cache",servers:"/var/lib/pufferpanel/servers"},sftp:{}}}}},mounted:function(){this.loadData()},methods:{loadData:function(){var t=this;t.$http.get("/api/nodes/".concat(t.$route.params.id)).then((function(e){t.node=e.data,t.loading=!1})).catch(Object(c["a"])(t)),t.$http.get("/api/nodes/".concat(t.$route.params.id,"/deployment")).then((function(e){t.deployment=e.data,t.loadingDeploy=!1})).catch(Object(c["a"])(t))},updateNode:function(){var t=this;t.$http.put("/api/nodes/".concat(t.$route.params.id),Object(d["a"])(t.node)).then((function(e){t.$toast.success(t.$t("nodes.UpdateSuccess"))})).catch(Object(c["a"])(t))},deleteNode:function(){var t=this;t.$http.delete("/api/nodes/".concat(t.$route.params.id)).then((function(e){t.$router.push({name:"Nodes"})})).catch(Object(c["a"])(t))},downloadConfig:function(){var t=Object(l["a"])({},this.configTemplate);t.daemon.auth.clientId=this.deployment.clientId,t.daemon.auth.clientSecret=this.deployment.clientSecret,t.daemon.sftp.host="0.0.0.0:".concat(this.node.sftpPort),t.web.host="0.0.0.0:".concat(this.node.privatePort),this.download(JSON.stringify(t,void 0,2),"config.json")},download:function(t,e,o){o||(o="application/octet-stream");var n=document.createElement("a"),a=new Blob([t],{type:o});n.href=window.URL.createObjectURL(a),n.download=e,n.click()},markdown:s["a"]}},r=i,p=o("2877"),u=o("6544"),b=o.n(u),v=o("8336"),f=o("b0af"),m=o("99d9"),h=o("62ad"),P=o("0fd9"),$=o("8654"),w=Object(p["a"])(r,n,a,!1,null,null,null);e["default"]=w.exports;b()(w,{VBtn:v["a"],VCard:f["a"],VCardText:m["c"],VCardTitle:m["d"],VCol:h["a"],VRow:P["a"],VTextField:$["a"]})}}]);
//# sourceMappingURL=chunk-6e25d783-legacy.05251598.js.map